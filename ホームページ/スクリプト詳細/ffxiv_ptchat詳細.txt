
■ 1. 基本設定

・ACTログから抽出する対象コード（PT_CODE=000E）を定義

・抽出結果の保存先ファイル.txtを指定

・メッセージ抽出用の正規表現パターンを準備


■ 2. 会話行の抽出処理（extract）

・ACTログ1行を分解し time / code / name / msg を取得

・code が PT_CODE と一致した行のみ処理対象とする

・時刻を整形し「T hh:mm:ss」の形式から hh:mm:ss の形式へ変換

・名前から特殊文字（など）を除去

・「時刻 名前 「メッセージ」」の形式で整形して返す


■ 3. 監視イベント処理（LogHandler）

・対象ACTログファイルが変更されたときのみ処理

・ログ末尾50行を解析し extract() で抽出を実行

・抽出成功したメッセージを MSG_LOG に追記

・新規抽出メッセージを保存先ファイルに追加書き込み

・保存件数をコンソールへ表示


■ 4. 手動一括処理（main_loop）

・ユーザーに ACTログファイルパスを入力させる

・存在確認を行い不正パスは再入力

・ログ全行を走査して extract() を適用

・抽出したメッセージを保存先ファイルへ追記

・保存件数を表示


■ 5. メイン実行

・main_loop を起動し手動入力処理を開始

・"end" が入力されるまでログ抽出を続ける
