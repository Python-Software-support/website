
■ 1. 基本設定

・FFXIV会話ログ監視ファイル.txtを指定

・OBS WebSocket のホスト、ポート、トークンを読み込み

・OBS 側の固定テキストソース名を定義


■ 2. OBSテキスト更新処理（update_obs）

・WebSocketClient を使って OBS に接続

・SetInputSettings により指定ソースへテキストを送信

・送信後は WebSocket を切断


■ 3. 正規表現による会話抽出

・MSG_RE で「」内の文字列だけを抽出

・最後のログ行から会話部分のみを取り出す


■ 4. ログ監視イベント処理（LogHandler）

・対象ファイルのみ変更イベントを受け取る

・末尾の新しい行を読み取り「」内の会話だけを抽出

・抽出に成功した場合のみ OBS にテキスト反映


■ 5. “end”コマンドによる終了処理

・別スレッドで input() を待機

・入力が “end” なら os._exit(0) で即時終了


■ 6. ファイル監視開始（Watchdog）

・Observer を生成し対象ファイルの親フォルダを監視

・LogHandler をバインドして変更イベントを受信

・observer.start() により監視を開始


■ 7. メイン処理

・OBS_WS_TOKEN 未設定時は起動直後に終了

・監視開始メッセージを表示し observer.join() で待機
