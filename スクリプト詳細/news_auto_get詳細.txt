
■ 1. RSS フィード一覧管理

・Yahoo!ニュース各カテゴリの RSS URL を辞書で保持

・主要／エンタメ／スポーツ／国内／IT 等を網羅


■ 2. 保存済みタイトル読み込み

・出力ファイルを読み取り、カテゴリ＋タイトルをセット化

・重複ニュースをスキップするためのキャッシュとして利用


■ 3. タイムスタンプ付きの新規ヘッダ生成

・ニュース取得時刻を記録

・既存内容より上に追記する形式


■ 4. RSS 取得処理（requests + feedparser）

・User-Agent を指定してアクセスブロックを回避

・カテゴリごとに RSS を取得しパース

・通信エラー時はカテゴリ単位でスキップ


■ 5. ニュース一覧の構造化出力

・カテゴリブロックを 60 文字の区切り線で明示

・フィードタイトルを併記

・各カテゴリ最大 10 件を取得


■ 6. HTML のサマリー抽出ロジック

・entry.summary / description / content を順に取得

・独自 HTMLStripper でタグ除去

・Unicode 解除 + 空白正規化で整形


■ 7. 不十分な概要の補完（HTML スクレイピング）

・概要が短い／最後が句読点で終わらない場合は記事本体を再取得

・本文から <p class="sc-gdv5m1-7…"> を抽出して概要候補を取得


■ 8. 重複判定とスキップ

・カテゴリ:タイトル のキーで保存済みとの重複をチェック

・重複ニュースは出力しない


■ 9. 出力テキストの整形

・英数字連続間の過剰空白をアンダースコア化

・カテゴリごとの差分を見やすく整理


■ 10. ファイル保存処理

・フォルダを自動作成

・新規コンテンツを先頭に、旧コンテンツを後ろに連結

・UTF-8 で安全に保存


■ 11. 実行ログ

・保存先パスを明示的に出力

・成功メッセージで処理完了を通知